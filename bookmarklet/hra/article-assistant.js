(function(){"use strict";const Ke=(e,t)=>e===t,F=Symbol("solid-proxy"),ze=Symbol("solid-track"),We=Symbol("solid-dev-component"),K={equals:Ke};let be=$e;const A=1,z=2,we={owned:null,cleanups:null,context:null,owner:null};var p=null;let ie=null,g=null,m=null,P=null,W=0;function X(e,t){const n=g,r=p,i=e.length===0,s=i?we:{owned:null,cleanups:null,context:null,owner:t===void 0?r:t},l=i?e:()=>e(()=>v(()=>Z(s)));p=s,g=null;try{return R(l,!0)}finally{g=n,p=r}}function U(e,t){t=t?Object.assign({},K,t):K;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Te(n,i));return[xe.bind(n),r]}function Xe(e,t,n){const r=J(e,t,!0,A);_(r)}function j(e,t,n){const r=J(e,t,!1,A);_(r)}function Je(e,t,n){be=et;const r=J(e,t,!1,A);(!n||!n.render)&&(r.user=!0),P?P.push(r):_(r)}function L(e,t,n){n=n?Object.assign({},K,n):K;const r=J(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,_(r),xe.bind(r)}function v(e){if(g===null)return e();const t=g;g=null;try{return e()}finally{g=t}}function Qe(e){return p===null||(p.cleanups===null?p.cleanups=[e]:p.cleanups.push(e)),e}function xe(){if(this.sources&&this.state)if(this.state===A)_(this);else{const e=m;m=null,R(()=>Y(this),!1),m=e}if(g){const e=this.observers?this.observers.length:0;g.sources?(g.sources.push(this),g.sourceSlots.push(e)):(g.sources=[this],g.sourceSlots=[e]),this.observers?(this.observers.push(g),this.observerSlots.push(g.sources.length-1)):(this.observers=[g],this.observerSlots=[g.sources.length-1])}return this.value}function Te(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&R(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],l=ie&&ie.running;l&&ie.disposed.has(s),(l?!s.tState:!s.state)&&(s.pure?m.push(s):P.push(s),s.observers&&Ce(s)),l||(s.state=A)}if(m.length>1e6)throw m=[],new Error},!1)),t}function _(e){if(!e.fn)return;Z(e);const t=p,n=g,r=W;g=p=e,Ye(e,e.value,r),g=n,p=t}function Ye(e,t,n){let r;try{r=e.fn(t)}catch(i){return e.pure&&(e.state=A,e.owned&&e.owned.forEach(Z),e.owned=null),e.updatedAt=n+1,Se(i)}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Te(e,r):e.value=r,e.updatedAt=n)}function J(e,t,n,r=A,i){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:p,context:null,pure:n};return p===null||p!==we&&(p.owned?p.owned.push(s):p.owned=[s]),s}function Q(e){if(e.state===0)return;if(e.state===z)return Y(e);if(e.suspense&&v(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<W);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===A)_(e);else if(e.state===z){const r=m;m=null,R(()=>Y(e,t[0]),!1),m=r}}function R(e,t){if(m)return e();let n=!1;t||(m=[]),P?n=!0:P=[],W++;try{const r=e();return Ze(n),r}catch(r){n||(P=null),m=null,Se(r)}}function Ze(e){if(m&&($e(m),m=null),e)return;const t=P;P=null,t.length&&R(()=>be(t),!1)}function $e(e){for(let t=0;t<e.length;t++)Q(e[t])}function et(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Q(r)}for(t=0;t<n;t++)Q(e[t])}function Y(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===A?r!==t&&(!r.updatedAt||r.updatedAt<W)&&Q(r):i===z&&Y(r,t)}}}function Ce(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=z,n.pure?m.push(n):P.push(n),n.observers&&Ce(n))}}function Z(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),l=n.observerSlots.pop();r<i.length&&(s.sourceSlots[l]=r,i[r]=s,n.observerSlots[r]=l)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Z(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0,e.context=null}function tt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Se(e,t=p){throw tt(e)}const nt=Symbol("fallback");function Ne(e){for(let t=0;t<e.length;t++)e[t]()}function rt(e,t,n={}){let r=[],i=[],s=[],l=0,o=t.length>1?[]:null;return Qe(()=>Ne(s)),()=>{let c=e()||[],u,a;return c[ze],v(()=>{let h=c.length,x,M,V,ne,re,S,N,k,H;if(h===0)l!==0&&(Ne(s),s=[],r=[],i=[],l=0,o&&(o=[])),n.fallback&&(r=[nt],i[0]=X(tn=>(s[0]=tn,n.fallback())),l=1);else if(l===0){for(i=new Array(h),a=0;a<h;a++)r[a]=c[a],i[a]=X(f);l=h}else{for(V=new Array(h),ne=new Array(h),o&&(re=new Array(h)),S=0,N=Math.min(l,h);S<N&&r[S]===c[S];S++);for(N=l-1,k=h-1;N>=S&&k>=S&&r[N]===c[k];N--,k--)V[k]=i[N],ne[k]=s[N],o&&(re[k]=o[N]);for(x=new Map,M=new Array(k+1),a=k;a>=S;a--)H=c[a],u=x.get(H),M[a]=u===void 0?-1:u,x.set(H,a);for(u=S;u<=N;u++)H=r[u],a=x.get(H),a!==void 0&&a!==-1?(V[a]=i[u],ne[a]=s[u],o&&(re[a]=o[u]),a=M[a],x.set(H,a)):s[u]();for(a=S;a<h;a++)a in V?(i[a]=V[a],s[a]=ne[a],o&&(o[a]=re[a],o[a](a))):i[a]=X(f);i=i.slice(0,l=h),r=c.slice(0)}return i});function f(h){if(s[a]=h,o){const[x,M]=U(a);return o[a]=M,t(c[a],x)}return t(c[a])}}}function w(e,t){return v(()=>e(t||{}))}function ee(){return!0}const se={get(e,t,n){return t===F?n:e.get(t)},has(e,t){return t===F?!0:e.has(t)},set:ee,deleteProperty:ee,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:ee,deleteProperty:ee}},ownKeys(e){return e.keys()}};function oe(e){return(e=typeof e=="function"?e():e)?e:{}}function it(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function st(...e){let t=!1;for(let s=0;s<e.length;s++){const l=e[s];t=t||!!l&&F in l,e[s]=typeof l=="function"?(t=!0,L(l)):l}if(t)return new Proxy({get(s){for(let l=e.length-1;l>=0;l--){const o=oe(e[l])[s];if(o!==void 0)return o}},has(s){for(let l=e.length-1;l>=0;l--)if(s in oe(e[l]))return!0;return!1},keys(){const s=[];for(let l=0;l<e.length;l++)s.push(...Object.keys(oe(e[l])));return[...new Set(s)]}},se);const n={},r={},i=new Set;for(let s=e.length-1;s>=0;s--){const l=e[s];if(!l)continue;const o=Object.getOwnPropertyNames(l);for(let c=0,u=o.length;c<u;c++){const a=o[c];if(a==="__proto__"||a==="constructor")continue;const f=Object.getOwnPropertyDescriptor(l,a);if(!i.has(a))f.get?(i.add(a),Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get:it.bind(r[a]=[f.get.bind(l)])})):(f.value!==void 0&&i.add(a),n[a]=f.value);else{const h=r[a];h?f.get?h.push(f.get.bind(l)):f.value!==void 0&&h.push(()=>f.value):n[a]===void 0&&(n[a]=f.value)}}}return n}function Ae(e,...t){if(F in e){const i=new Set(t.length>1?t.flat():t[0]),s=t.map(l=>new Proxy({get(o){return l.includes(o)?e[o]:void 0},has(o){return l.includes(o)&&o in e},keys(){return l.filter(o=>o in e)}},se));return s.push(new Proxy({get(l){return i.has(l)?void 0:e[l]},has(l){return i.has(l)?!1:l in e},keys(){return Object.keys(e).filter(l=>!i.has(l))}},se)),s}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,i),l=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let o=!1,c=0;for(const u of t)u.includes(i)&&(o=!0,l?r[c][i]=s.value:Object.defineProperty(r[c],i,s)),++c;o||(l?n[i]=s.value:Object.defineProperty(n,i,s))}return[...r,n]}function ot(e){const t="fallback"in e&&{fallback:()=>e.fallback};return L(rt(()=>e.each,e.children,t||void 0))}const lt=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],at=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...lt]),ct=new Set(["innerHTML","textContent","innerText","children"]),ft=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),ut=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function ht(e,t){const n=ut[e];return typeof n=="object"?n[t]?n.$:void 0:n}const dt=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),gt=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),pt={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function mt(e,t,n){let r=n.length,i=t.length,s=r,l=0,o=0,c=t[i-1].nextSibling,u=null;for(;l<i||o<s;){if(t[l]===n[o]){l++,o++;continue}for(;t[i-1]===n[s-1];)i--,s--;if(i===l){const a=s<r?o?n[o-1].nextSibling:n[s-o]:c;for(;o<s;)e.insertBefore(n[o++],a)}else if(s===o)for(;l<i;)(!u||!u.has(t[l]))&&t[l].remove(),l++;else if(t[l]===n[s-1]&&n[o]===t[i-1]){const a=t[--i].nextSibling;e.insertBefore(n[o++],t[l++].nextSibling),e.insertBefore(n[--s],a),t[i]=n[s]}else{if(!u){u=new Map;let f=o;for(;f<s;)u.set(n[f],f++)}const a=u.get(t[l]);if(a!=null)if(o<a&&a<s){let f=l,h=1,x;for(;++f<i&&f<s&&!((x=u.get(t[f]))==null||x!==a+h);)h++;if(h>a-o){const M=t[l];for(;o<a;)e.insertBefore(n[o++],M)}else e.replaceChild(n[o++],t[l++])}else l++;else t[l++].remove()}}}const Pe="_$DX_DELEGATE";function le(e,t,n,r={}){let i;return X(s=>{i=s,t===document?e():$(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function E(e,t,n){let r;const i=()=>{const l=document.createElement("template");return l.innerHTML=e,n?l.content.firstChild.firstChild:l.content.firstChild},s=t?()=>v(()=>document.importNode(r||(r=i()),!0)):()=>(r||(r=i())).cloneNode(!0);return s.cloneNode=s,s}function Ee(e,t=window.document){const n=t[Pe]||(t[Pe]=new Set);for(let r=0,i=e.length;r<i;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,Nt))}}function ae(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function yt(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function bt(e,t){t==null?e.removeAttribute("class"):e.className=t}function wt(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=s=>i.call(e,n[1],s))}else e.addEventListener(t,n)}function xt(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let s,l;for(s=0,l=i.length;s<l;s++){const o=i[s];!o||o==="undefined"||t[o]||(ke(e,o,!1),delete n[o])}for(s=0,l=r.length;s<l;s++){const o=r[s],c=!!t[o];!o||o==="undefined"||n[o]===c||!c||(ke(e,o,!0),n[o]=c)}return n}function Tt(e,t,n){if(!t)return n?ae(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)i=t[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function $t(e,t={},n,r){const i={};return r||j(()=>i.children=D(e,t.children,i.children)),j(()=>t.ref&&t.ref(e)),j(()=>Ct(e,t,n,!0,i,!0)),i}function $(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return D(e,t,r,n);j(i=>D(e,t(),i,n),r)}function Ct(e,t,n,r,i={},s=!1){t||(t={});for(const l in i)if(!(l in t)){if(l==="children")continue;i[l]=Le(e,l,null,i[l],n,s)}for(const l in t){if(l==="children"){r||D(e,t.children);continue}const o=t[l];i[l]=Le(e,l,o,i[l],n,s)}}function St(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function ke(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],n)}function Le(e,t,n,r,i,s){let l,o,c,u,a;if(t==="style")return Tt(e,n,r);if(t==="classList")return xt(e,n,r);if(n===r)return r;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);r&&e.removeEventListener(f,r),n&&e.addEventListener(f,n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);r&&e.removeEventListener(f,r,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),h=dt.has(f);if(!h&&r){const x=Array.isArray(r)?r[0]:r;e.removeEventListener(f,x)}(h||n)&&(wt(e,f,n,h),h&&Ee([f]))}else if(t.slice(0,5)==="attr:")ae(e,t.slice(5),n);else if((a=t.slice(0,5)==="prop:")||(c=ct.has(t))||!i&&((u=ht(t,e.tagName))||(o=at.has(t)))||(l=e.nodeName.includes("-")))a&&(t=t.slice(5),o=!0),t==="class"||t==="className"?bt(e,n):l&&!o&&!c?e[St(t)]=n:e[u||t]=n;else{const f=i&&t.indexOf(":")>-1&&pt[t.split(":")[0]];f?yt(e,f,t,n):ae(e,ft[t]||t,n)}return n}function Nt(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const r=n[t];if(r&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?r.call(n,i,e):r.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function D(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,l=r!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),l){let o=n[0];o&&o.nodeType===3?o.data=t:o=document.createTextNode(t),n=q(e,n,r,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=q(e,n,r);else{if(s==="function")return j(()=>{let o=t();for(;typeof o=="function";)o=o();n=D(e,o,n,r)}),()=>n;if(Array.isArray(t)){const o=[],c=n&&Array.isArray(n);if(ce(o,t,n,i))return j(()=>n=D(e,o,n,r,!0)),()=>n;if(o.length===0){if(n=q(e,n,r),l)return n}else c?n.length===0?Oe(e,o,r):mt(e,n,o):(n&&q(e),Oe(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(l)return n=q(e,n,r,t);q(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}else console.warn("Unrecognized value. Skipped inserting",t)}return n}function ce(e,t,n,r){let i=!1;for(let s=0,l=t.length;s<l;s++){let o=t[s],c=n&&n[s],u;if(!(o==null||o===!0||o===!1))if((u=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=ce(e,o,c)||i;else if(u==="function")if(r){for(;typeof o=="function";)o=o();i=ce(e,Array.isArray(o)?o:[o],Array.isArray(c)?c:[c])||i}else e.push(o),i=!0;else{const a=String(o);c&&c.nodeType===3&&c.data===a?e.push(c):e.push(document.createTextNode(a))}}return i}function Oe(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function q(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let s=!1;for(let l=t.length-1;l>=0;l--){const o=t[l];if(i!==o){const c=o.parentNode===e;!s&&!l?c?e.replaceChild(i,o):e.insertBefore(i,n):c&&o.remove()}else s=!0}}else e.insertBefore(i,n);return[i]}const At="http://www.w3.org/2000/svg";function Pt(e,t=!1){return t?document.createElementNS(At,e):document.createElement(e)}function Et(e){const[t,n]=Ae(e,["component"]),r=L(()=>t.component);return L(()=>{const i=r();switch(typeof i){case"function":return Object.assign(i,{[We]:!0}),v(()=>i(n));case"string":const s=gt.has(i),l=Pt(i,s);return $t(l,n,s),l}})}const b="ynhra";var d=(e=>(e[e.ArticlePart=`data-${b}-article-part`]="ArticlePart",e[e.Title=`data-${b}-title`]="Title",e[e.Paragraph=`data-${b}-p`]="Paragraph",e[e.Translation=`data-${b}-t`]="Translation",e[e.Mark=`data-${b}-mark`]="Mark",e[e.LineIndex=`data-${b}-line-i`]="LineIndex",e[e.LineNumber=`data-${b}-line-n`]="LineNumber",e))(d||{}),T=(e=>(e[e.Highlight=`${b}-highlight`]="Highlight",e[e.HiddenParagraph=`${b}-p-h`]="HiddenParagraph",e[e.LineNumber=`${b}-line-n`]="LineNumber",e[e.GlobalStyle=`${b}-style`]="GlobalStyle",e))(T||{}),I=(e=>(e.TextContainerContainer="text container container",e))(I||{});function B(e){const t=window.getComputedStyle(e).visibility;return t!=="hidden"&&t!=="collapse"&&e.checkVisibility()}function te(e){return e.nodeType===Node.TEXT_NODE&&e.data?.trim().length>0}function G(e){if(!y(e))return!1;for(let t of e.childNodes)if(te(t))return!0;return!1}function Me(e){if(!y(e)||!e.innerText||e.innerText.trim().length===0)return!1;const t=window.getComputedStyle(e);return!e.querySelector("p")&&B(e)&&t.display==="inline"}function je(e){return fe(e)&&B(e)&&G(e)}function fe(e){return y(e)?!e.querySelector("p")&&(e.tagName==="SPAN"||e.tagName==="DIV")&&O(e.parentNode).length===1:!1}function ve(e){if(!fe(e))return!1;if(G(e))return!0;const t=O(e);return t.length===1?ve(t[0]):!1}function ue(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;for(let t of e.childNodes){if(Me(t))return pe(t,"is inline text wrapper"),!0;if(je(t))return pe(t,"is text component wrapper"),!0}return!1}function he(e){if(!y(e))return!1;for(let t of e.childNodes)if(de(t)&&B(t))return!0;return!1}function de(e){if(y(e)){const t=window.getComputedStyle(e),n=["list-item","flow-root","block","table","flex","grid"];if(t.float==="none"&&n.includes(t.display))return!0}return!1}function kt(e){for(let t of e.childNodes)if(te(t)||!de(t))return!1;return!0}function O(e){const t=[];if(!e)return t;for(let n of e.childNodes)y(n)&&t.push(n);return t}function ge(e,t){const n=document.createElement("style");n.className=e,n.innerHTML=t,document.head.appendChild(n)}function y(e){return e.nodeType===Node.ELEMENT_NODE}function pe(e,t){y(e)&&e.setAttribute(d.Mark,t)}function _e(){const e=["main",'[role="main"]'];for(let t of e){const n=document.querySelectorAll(t);if(n.length===1&&y(n[0]))return n[0]}return null}function De(e){return e.matches("footer")||e.className.indexOf("footer")>-1||e.matches('[role="contentinfo"]')}function qe(e,t){if(t=t||[],e.nodeType===Node.TEXT_NODE)t.push(e);else for(let n=0;n<e.childNodes.length;n++)qe(e.childNodes[n],t);return t}const Lt=Object.freeze(Object.defineProperty({__proto__:null,addStyleElement:ge,allChildrenAreBlock:kt,getAllTextNodes:qe,getChildElements:O,getMainElement:_e,isBlockElement:de,isComponentWrapper:fe,isFooter:De,isHTMLElement:y,isInlineTextWrapper:Me,isNestedTextWrapper:ve,isNonEmptyTextNode:te,isTextComponentWrapper:je,markElement:pe,nodeContainsBlockElement:he,nodeContainsTextDirectly:G,nodeContainsTextWrapperDirectly:ue,textIsVisible:B},Symbol.toStringTag,{value:"Module"}));function Ot(e){return!e||typeof e!="string"?"":e.trim().replace(/(?<=[a-z])-[\r\n]+/gi,"-").replace(/[\r\n]+/g," ").replace(/\s+/g," ")}function Mt(e){return`"${e.replace(/"/g,'""')}"`}function jt(e){return/^[\x00-\x40]*$/.test(e)}function Ie(e,t){me(e,"text/plain",t)}function Be(e,t){me(JSON.stringify(e,null,2),"application/json",`${t}.json`)}function me(e,t,n){const r=new Blob([e],{type:t}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=n,s.click()}async function Ge(e,t,n){const r=new AbortController,i=setTimeout(()=>r.abort(),t);try{return await fetch(e,Object.assign({},n,{signal:r.signal}))}catch(s){throw s?.name==="AbortError"?new Error(`Request timed out after ${t} ms`):s}finally{clearTimeout(i)}}function vt(e){return`${e}:${location.pathname.toLowerCase()}`}const _t=Object.freeze(Object.defineProperty({__proto__:null,download:me,downloadJson:Be,downloadText:Ie,fetchWithTimeout:Ge,keyForPathName:vt},Symbol.toStringTag,{value:"Module"}));function Dt(e){return e!==null}class C{textContainerContainers=[];articleParts=[];paragraphs=[];title="";pageData=null;constructor(){this.reset(),ge(T.GlobalStyle,`
			ol>li[${d.Translation}] {
				display: inline;
			}

			[${d.Translation}] {
				opacity: 0.8;
			}
			`)}find(){return this.pageData?this.pageData:(this.findArticleParts().findParagraphs(),this.pageData=this.getPageData())}mark(){this.find(),ge(T.GlobalStyle,`
			.${T.Highlight} {
				box-shadow: 0 0 5px 2px #aaa;
				background: #ffcc00;
			}
		`),document.querySelectorAll(`[${d.Paragraph}],[${d.Title}]`).forEach(t=>{t.nodeType===Node.ELEMENT_NODE&&t.classList.add(T.Highlight)})}download(){Be(this.find(),"page-data")}highlight(t){t.forEach(n=>{n=n.node||n,n.style.boxShadow="0 0 5px 2px #aaa",n.style.background="gray"})}reset(){this.textContainerContainers=[],this.articleParts=[],this.paragraphs=[],this.title="",[d.ArticlePart,d.Paragraph,d.Title,d.Mark].forEach(t=>{document.querySelectorAll(`[${t}]`).forEach(n=>{n.removeAttribute(t)})}),[`[${d.Translation}]`,`.${T.HiddenParagraph}`,`.${T.GlobalStyle}`].forEach(t=>{document.querySelectorAll(t).forEach(n=>{n.remove()})}),document.querySelectorAll(`.${T.Highlight}`).forEach(t=>{t.classList.remove(T.Highlight)}),document.querySelector(`#${T.Highlight}`)?.remove()}setArticleParts(t){const n=this.articleParts.length;this.articleParts.push(t),t.node.setAttribute(d.ArticlePart,`${n}`)}setTitle(t,n){this.title=n,t.setAttribute(d.Title,"")}setParagraph(t,n,r){const i=this.paragraphs.length;r||(r=/^h\d+$/i.test(t.tagName)?t.tagName.toLowerCase():""),this.paragraphs.push({text:n,type:r}),t.setAttribute(d.Paragraph,`${i}`)}getTextContainerContainers(t){t||(t=document.body.childNodes);for(let n of t)y(n)&&n.getAttribute(d.ArticlePart)||(C.isTextContainerContainer(n)?this.textContainerContainers.push({node:n,type:I.TextContainerContainer,textLength:n.innerText?.length||-1}):this.getTextContainerContainers(n.childNodes))}findFromTextContainerContainers(){if(this.getTextContainerContainers(),this.textContainerContainers.length!==0){this.textContainerContainers.sort((t,n)=>n.textLength-t.textLength),this.setArticleParts(this.textContainerContainers[0]);for(let t=1;t<this.textContainerContainers.length;t++){const n=this.textContainerContainers[t];n.node.querySelector("h1")&&this.setArticleParts(n)}}}findArticleParts(){const t=_e();return t&&this.setArticleParts({node:t,type:I.TextContainerContainer,textLength:-1}),this.findFromTextContainerContainers(),this}getParagraphs(t,n){for(let r of t){const i=C.getTextFromNode(r);if(!(!i||jt(i)||De(r)))switch(n){case I.TextContainerContainer:const s=r.querySelector(":scope>h1");s?this.getParagraphs(O(s.parentNode),n):r.matches("h1")?this.setTitle(r,i):G(r)?he(r)?(this.insertAfterTextNode(r),this.getParagraphs(O(r),n)):this.setParagraph(r,i):ue(r)&&!he(r)?this.setParagraph(r,i):this.getParagraphs(O(r),n);break}}}insertAfterTextNode(t){for(let n of t.childNodes)if(te(n)){const r=document.createElement("span");r.style.display="none",r.innerText=n.data?.trim()||"",r.className=T.HiddenParagraph,n.parentNode.insertBefore(r,n.nextSibling),this.setParagraph(r,r.innerText)}}findParagraphs(){for(let{node:t,type:n}of this.articleParts)this.getParagraphs(O(t),n);return this.title||(this.title=document.title||""),this}getPageData(){return{url:`${location.protocol}//${location.host}${location.pathname}${location.search}`,language:document.documentElement.lang,title:{text:this.title,type:"title"},paragraphs:this.paragraphs}}static formatCodeText(t){return t?"`"+t+"`":""}static getTextFromNode(t){if(!B(t))return"";if(t.matches("code"))return C.formatCodeText(t.innerText?.trim());const n="ignore text",r=`pre,[${d.Mark}="${n}"]`;if(t.matches(r))return"";const i=document.createDocumentFragment(),s=t.querySelectorAll("code"),l=[];for(let a of s){const f=a.innerText?.trim();if(f&&a.parentNode){const h=document.createElement("code");h.innerText=C.formatCodeText(f),a.parentNode.insertBefore(h,a),i.appendChild(a),l.push([h,a])}}t.querySelectorAll("*").forEach(a=>{if(!y(a))return;const{width:f,height:h}=a.getBoundingClientRect();(f<=4||h<=4)&&a.setAttribute(d.Mark,n)});const o=[];t.querySelectorAll(r).forEach(a=>{y(a)&&o.push(a)});const c=[];for(let a of o)c.push(a.style.visibility),a.style.visibility="hidden";const u=t.innerText?.trim();for(let a=0;a<o.length;a++)o[a].style.visibility=c[a];for(let[a,f]of l)a.parentNode.insertBefore(f,a),a.parentNode.removeChild(a);return Ot(u)}static isTextContainerContainer(t){if(G(t)||!y(t)||t.querySelector(`[${d.ArticlePart}]`))return!1;if(t.querySelector(":scope>h2"))return!0;for(let n of t.childNodes)if(!(n.nodeType===Node.ELEMENT_NODE&&!B(n))){if(G(n))return n.setAttribute(d.Mark,`in ${I.TextContainerContainer}: contains text directly`),!0;if(ue(n))return n.setAttribute(d.Mark,`in ${I.TextContainerContainer}: contains text wrapper directly`),!0}return!1}static t(t){if(!t.matches(`[${d.Translation}]`))return null;const n=t.querySelector("blockquote")?.innerText||"",r=t.querySelector("span"),i=r?.innerText||"";r&&(r.style.display="none");const s=t.innerText;return r&&(r.style.display=""),{index:t.getAttribute(d.Translation)||"",text:n,sep:i,translation:s}}static tGroups(t){let n=0;const r=Array.from(document.querySelectorAll(t)).filter(y).map(i=>Array.from(i.querySelectorAll(`[${d.Translation}]`)).filter(y).map(C.t).filter(Dt)).filter(i=>(i.length>n&&(n=i.length),i.length>0));return{size:n,groups:r}}static tGroupsTable(t,n){const{size:r,groups:i}=C.tGroups(t),s=[[]],l=n?.thead&&Array.isArray(n.thead)?n.thead:[];for(let o=0;o<r;o++)typeof l[o]=="string"?s[0].push(l[o]):s[0].push(`Column ${o+1}`);return i.reduce((o,c)=>{if(c.length===0)return o;const u=[],a=[];for(let f=0;f<r;f++){const h=c[f];h?(u.push(h.text),a.push(`${h.sep}${h.translation}`)):(u.push(""),a.push(""))}return o.push(u),o.push(a),o},s)}static downloadTGroupsTable(t,n,r){const i=typeof n=="object"?n:void 0;r=typeof n=="string"?n:r,Ie(C.tGroupsTable(t,i).map(s=>s.map(Mt).join(",")).join(`
`),`${r||"t-groups-table"}.csv`)}}const qt=E("<blockquote>"),It=E("<span>&ensp;／&ensp;");function He(e){return[(()=>{const t=qt();return t.style.setProperty("display","none"),$(t,()=>e.text),t})(),It(),L(()=>e.children)]}function Bt(e){return Je(()=>{if(e.translation){const t=document.querySelector(`[${d.Title}]`);if(t){let n=t.querySelector(`[${d.Translation}=""]`);const r=e.translation.title,i=e.translation.text?.title||"";!n&&r&&(n=document.createElement("div"),n.setAttribute(d.Translation,""),t.appendChild(n),le(()=>w(He,{text:i,children:r}),n))}e.translation.content?.forEach((n,r)=>{const i=e.translation?.text?.content?.[r]||"",s=(e.translation?.paraghraphOffset||0)+r,l=document.querySelector(`[${d.Paragraph}="${s}"]`);if(l){const o=l.cloneNode(!0);o.innerHTML="",o.removeAttribute(d.Paragraph),o.setAttribute(d.Translation,`${s}`),o.style.display==="none"&&(o.style.display=""),l.nextElementSibling?l.parentNode?.insertBefore(o,l.nextElementSibling):l.parentNode?.appendChild(o),le(()=>w(He,{text:i,children:n}),o)}})}}),[]}const Gt=`${b}t`,Ht="en",Ue="zh-CN";async function Re(e,t){if(e=e.trim(),!e||typeof e!="string")return"";const{source:n=document.documentElement.lang||Ht,target:r=Ue}=t||{},i=`${Gt}${r===Ue?"":`_${r}`} ${e}`,s=localStorage.getItem(i);if(s)return s;const l="https://translate.googleapis.com/translate_a/single?client=gtx&sl="+n+"&tl="+r+"&dt=t&q="+encodeURIComponent(e),c=(u=>u[0].map(a=>a[0]).join(""))(await(await Ge(l,5e3)).json());return localStorage.setItem(i,c),c}async function Ut(e,t,n){const r=e.find(),i=r.paragraphs.length+1,s="translate";n([{action:s,status:`requesting 1/${i}`}]);const l=await Re(r.title.text);t({title:l,content:[],text:{title:r.title.text,content:[]},paraghraphOffset:0});let o=0;for(let c of r.paragraphs){n([{action:s,status:`requesting ${o+2}/${i}`}]);const u=await Re(c.text);n([{action:s,status:"done"}]),t({title:"",content:[u],text:{title:"",content:[c.text]},paraghraphOffset:o++})}}function Rt(e){const[t,n]=U(null),[r,i]=U([]),[s,l]=U(null);return Ut(e,n,i).catch(o=>l(o)),{translation:()=>t(),error:()=>s(),requestStatus:()=>r()}}function ye(e){const[t,n]=Ae(e,["tag","children","mode"]);let r=null;const i=w(Et,st({ref(s){const l=r;typeof l=="function"?l(s):r=s},get component(){return e.tag||"div"}},n));return Xe(()=>{if(r){const s=r.attachShadow({mode:t.mode||"open"});$(s,L(()=>e.children))}}),i}const Vt=E(`<style>
	pre {
		margin: 1em 0 0 0;
		padding: 0.5em 1em;
		color: #f66;
		background: #eee;
	}
`),Ft=E("<pre>Error<br>");function Kt(e){return w(ye,{get children(){return[Vt(),L(()=>L(()=>!!e.error)()?(()=>{const t=Ft();return t.firstChild.nextSibling,$(t,()=>e.error.message||e.error,null),t})():null)]}})}const zt=E(`<style>
.root {
	position: fixed;
	z-index: 999999;
	right: 0.5em;
	/* width: calc(100vw - 1em); */
}
button {
	position: absolute;
	right: 0;
	z-index: 1;
	border: solid 1px #666;
	width: 2em;
	height: 2em;
	font-family: serif;
	background: #fff;
	color: #000;
	border-radius: 1em;
	opacity: 0.8;
	cursor: pointer;
	padding: 0;
	line-height: 2em;
}

.root > div {
	max-height: calc(100vh - 1em);
	padding: 0 2.5em 0 0;
	/* width: 100%;
	background: rgba(255,255,255,0.9);
	overflow-y: scroll;
	position: absolute;
	box-shadow: 0 0 5px 2px #aaa; */
}

@media screen and (max-width: 420px) {
	.root {
		bottom: 0.5em;
	}

	button {
		bottom: 0;
	}

	.root > div {
		bottom: 0;
	}
}

@media screen and (min-width: 421px) {
	.root {
		top: 0.5em;
	}

	button {
		top: 0;
	}

	.root > div {
		top: 0;
	}
}
	`),Wt=E('<div class="root"><button></button><div>');function Xt(e){const[t,n]=U(!1);return w(ye,{get class(){return e.className},get children(){return[(()=>{const r=zt();return r.firstChild,$(r,()=>`
.root > div {
	display: ${t()?"none":"block"}
}
				`,null),r})(),(()=>{const r=Wt(),i=r.firstChild,s=i.nextSibling;return i.$$click=()=>n(!t()),$(i,()=>t()?"☰":"✖️"),$(s,()=>e.children),r})()]}})}Ee(["click"]);const Jt=E(`<style>
		ul {
			font-size: 0.5em;
			text-align: right;
			margin: 0;
			padding: 0;
		}
		li {
			list-style: none;
			display: inline-block;
			margin: 0;
			color: #666;
			padding: 0.2em 1em;
			background: #fff;
			box-shadow: 0 0 5px 2px #aaa;
		}

		@media screen and (min-width: 421px) {
		}
	`),Qt=E("<ul>"),Yt=E("<li> <em>");function Zt(e){return w(ye,{get children(){return[Jt(),(()=>{const t=Qt();return $(t,w(ot,{get each(){return e.status},children:n=>(()=>{const r=Yt(),i=r.firstChild,s=i.nextSibling;return $(r,()=>n.action,i),$(s,()=>n.status),r})()})),t})()]}})}const Ve=new C;window[b]={ArticleFinder:C,utilDOM:Lt,util:_t,finder:Ve};function en(){const e=Rt(Ve);return[w(Zt,{get status(){return e.requestStatus()}}),w(Kt,{get error(){return e.error()}}),w(Bt,{get translation(){return e.translation()}})]}const Fe=`${b}-container`;document.querySelectorAll(`.${Fe}`).forEach(e=>{e.parentNode.removeChild(e)}),le(()=>w(Xt,{className:Fe,get children(){return w(en,{})}}),document.body)})();
